# Production

Содержание:

* [Summary](#summary)
  * [Issue](#issue)
  * [Decision](#decision)
  * [Status](#status)
* [Details](#details)
  * [Assumptions](#assumptions)
  * [Сonstraints](#constraints)
  * [Positions](#positions)
  * [Argument](#argument)
  * [Implications](#implications)
* [Related](#related)
  * [Related decisions](#related-decisions)
  * [Related requirements](#related-requirements)
  * [Related artifacts](#related-artifacts)
  * [Related principles](#related-principles)
* [Notes](#notes)


## Summary

### Issue

Нужно выбрать среду для CI/CD и production:

  * Должны быть инструменты для быстрого развертывания
  * Должны быть инструменты для верификации сборки
  * Должны быть инструменты для мониторинга production
  * Платформа должна быть бесплатной  


### Decision

Выбран Heroku. В качестве веб сервера Nginx. В качестве сервера приложения Fast-CGI php-fpm.


### Status

Бесплатный тариф Heroku решает поставленные задачи. Если появится более функциональная альтернатива, можно обдумать её.

## Details

### Assumptions

Нужно развернуть приложение, настроить мониторинг. Создать процесс непрерывных улучшений.

### Constraints

Нужно бесплатное решение. Система должно деплоиться максимально просто, без написания кода и лишних действий.

### Positions

Развернуть на бесплатном хостинге в триальном режиме. После завершения триала переезжать на другой хостинг. Долго и неудобно.

Использовать AWS. Бесплатный тарифный план предоставляет медленную виртуалку с большим даунтаймом в сутки.

Использовать Heroku. Бесплатный тарифный план предоставляет неплохую виртуалку. Даунтайм 30 минут в день. При этом если системой не пользуются, то это учитывается. Удобна в использовании. Быстрое CI/CD. Heroku позволяет использовать связку Nginx + php-fpm

### Argument

Самое очевидное решение использовать Heroku, поскольку максимально простое развертывание одной командой

### Implications

Правильный выбор позволит съэкономить время на поддерживании и развертывании приложения.

## Related

### Related decisions

Правильный инструмент позволит обеспечить отказоустойчивость приложения

### Related requirements

Приложение должно работать быстро.

### Related principles

Должен быть реализован процесс непрерывных релизов.