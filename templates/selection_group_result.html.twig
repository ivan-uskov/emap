{% extends 'base.html.twig' %}

{% block javascripts %}
    <script src="{{ asset('js/lib/opensheetmusicdisplay.min.js') }}"></script>
    <script src="{{ asset('js/lib/chart.min.js') }}"></script>
    <script src="{{ asset('js/SelectionRendering.js') }}"></script>
    <script src="{{ asset('js/SelectionGroupResult.js') }}"></script>
    <script src="{{ asset('js/SelectionSave.js') }}"></script>
    <script src="{{ asset('js/FileSaver.min.js') }}"></script>
    <script src="{{ asset('js/jszip.min.js') }}"></script>
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/selection_result.css') }}" />
{% endblock %}

{% block body %}
    <div class="list">
        <div class="block-header">
            <h2>Склейка выборок</h2>
        </div>
        <div class="text-right button_container">
            <a class="btn btn-primary mb-2" onclick="return false;" href="" id="saveSelection" role="button">Экспорт</a>
            {% if not already_saved %}
                <a class="btn btn-success mb-2" href="" id="saveBtn" role="button">Сохранить</a>
            {% endif %}
        </div>
        <div class="block-bottom graph_container" id="commonContainer">
            <input type="hidden" id="commonGraphData" data-data="{{ common_result }}" />
            <canvas id="commonContainerCanvas" style="height:300px"></canvas>
        </div>
    </div>
    <form method="post" action="{{ path('add_selection_group_ajax') }}" style="display: none" id="saveSelectionForm">
        <input type="hidden" name="items" value="{{ items }}" />
    </form>
{% endblock %}